-- MySQL dump 10.13  Distrib 8.0.42, for Win64 (x86_64)
--
-- Host: 127.0.0.1    Database: mama-bakery
-- ------------------------------------------------------
-- Server version	5.5.5-10.4.27-MariaDB

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `categories`
--

DROP TABLE IF EXISTS `categories`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `categories` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `categories`
--

LOCK TABLES `categories` WRITE;
/*!40000 ALTER TABLE `categories` DISABLE KEYS */;
INSERT INTO `categories` VALUES (1,'Roti'),(2,'Kue Kering'),(3,'Kue Basah'),(4,'Snack');
/*!40000 ALTER TABLE `categories` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `customer_display`
--

DROP TABLE IF EXISTS `customer_display`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `customer_display` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `data` text DEFAULT NULL,
  `updated_at` timestamp NOT NULL DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `customer_display`
--

LOCK TABLES `customer_display` WRITE;
/*!40000 ALTER TABLE `customer_display` DISABLE KEYS */;
INSERT INTO `customer_display` VALUES (1,'{\"cart\":\"[]\",\"total\":\"0\"}','2025-07-20 05:37:03');
/*!40000 ALTER TABLE `customer_display` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `discounts`
--

DROP TABLE IF EXISTS `discounts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `discounts` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `product_id` int(11) DEFAULT NULL,
  `discount_percent` decimal(5,2) DEFAULT NULL,
  `start_date` date DEFAULT NULL,
  `end_date` date DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `discounts_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `discounts`
--

LOCK TABLES `discounts` WRITE;
/*!40000 ALTER TABLE `discounts` DISABLE KEYS */;
INSERT INTO `discounts` VALUES (1,2,10.00,'2025-07-02','2025-07-09');
/*!40000 ALTER TABLE `discounts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `login_logs`
--

DROP TABLE IF EXISTS `login_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `login_logs` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `user_id` int(11) NOT NULL,
  `login_time` datetime DEFAULT NULL,
  `logout_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  CONSTRAINT `login_logs_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `login_logs`
--

LOCK TABLES `login_logs` WRITE;
/*!40000 ALTER TABLE `login_logs` DISABLE KEYS */;
INSERT INTO `login_logs` VALUES (1,2,'2025-07-02 21:17:38',NULL);
/*!40000 ALTER TABLE `login_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `payments`
--

DROP TABLE IF EXISTS `payments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `payments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `payments`
--

LOCK TABLES `payments` WRITE;
/*!40000 ALTER TABLE `payments` DISABLE KEYS */;
INSERT INTO `payments` VALUES (1,'Cash'),(2,'QRIS'),(3,'Transfer Bank'),(4,'GoFood');
/*!40000 ALTER TABLE `payments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `price_history`
--

DROP TABLE IF EXISTS `price_history`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `price_history` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `product_id` int(11) NOT NULL,
  `old_price` decimal(12,2) DEFAULT NULL,
  `new_price` decimal(12,2) DEFAULT NULL,
  `changed_by` int(11) DEFAULT NULL,
  `changed_at` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  KEY `changed_by` (`changed_by`),
  CONSTRAINT `price_history_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`),
  CONSTRAINT `price_history_ibfk_2` FOREIGN KEY (`changed_by`) REFERENCES `users` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `price_history`
--

LOCK TABLES `price_history` WRITE;
/*!40000 ALTER TABLE `price_history` DISABLE KEYS */;
INSERT INTO `price_history` VALUES (1,1,14000.00,15000.00,1,'2025-07-02 14:17:38'),(2,2,4500.00,5000.00,1,'2025-07-02 14:17:38');
/*!40000 ALTER TABLE `price_history` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `products`
--

DROP TABLE IF EXISTS `products`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `products` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `category_id` int(11) DEFAULT NULL,
  `price` decimal(12,2) NOT NULL,
  `stock` int(11) NOT NULL DEFAULT 0,
  `photo` varchar(255) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  KEY `category_id` (`category_id`),
  CONSTRAINT `products_ibfk_1` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `products`
--

LOCK TABLES `products` WRITE;
/*!40000 ALTER TABLE `products` DISABLE KEYS */;
INSERT INTO `products` VALUES (1,'Roti Tawar',1,15000.00,49,NULL,1,'2025-07-02 14:17:38'),(2,'Donat Coklat',1,5000.00,100,NULL,1,'2025-07-02 14:17:38'),(3,'Brownies Kukus',3,15000.00,29,NULL,1,'2025-07-02 14:17:38'),(4,'Nastar',2,25000.00,38,'4392135ca5adbc880612c5858209abb2.jpg',1,'2025-07-02 14:17:38'),(5,'Pizza Mini',4,12000.00,25,NULL,1,'2025-07-02 14:17:38'),(6,'Kue Lapis',3,8000.00,15,NULL,1,'2025-07-02 14:17:38'),(7,'Roti Sosis',1,7000.00,60,NULL,1,'2025-07-02 14:17:38'),(8,'Kueh Kacang',2,12000.00,0,NULL,1,'2025-07-06 14:24:58');
/*!40000 ALTER TABLE `products` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `roles`
--

DROP TABLE IF EXISTS `roles`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `roles` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `roles`
--

LOCK TABLES `roles` WRITE;
/*!40000 ALTER TABLE `roles` DISABLE KEYS */;
INSERT INTO `roles` VALUES (1,'admin'),(2,'kasir'),(3,'admin'),(4,'kasir');
/*!40000 ALTER TABLE `roles` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transaction_items`
--

DROP TABLE IF EXISTS `transaction_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transaction_items` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `transaction_id` int(11) NOT NULL,
  `product_id` int(11) NOT NULL,
  `quantity` int(11) NOT NULL,
  `unit_price` decimal(12,2) NOT NULL,
  `total_price` decimal(12,2) NOT NULL,
  PRIMARY KEY (`id`),
  KEY `transaction_id` (`transaction_id`),
  KEY `product_id` (`product_id`),
  CONSTRAINT `transaction_items_ibfk_1` FOREIGN KEY (`transaction_id`) REFERENCES `transactions` (`id`),
  CONSTRAINT `transaction_items_ibfk_2` FOREIGN KEY (`product_id`) REFERENCES `products` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=242 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transaction_items`
--

LOCK TABLES `transaction_items` WRITE;
/*!40000 ALTER TABLE `transaction_items` DISABLE KEYS */;
INSERT INTO `transaction_items` VALUES (4,2,6,1,8000.00,8000.00),(5,3,6,1,8000.00,8000.00),(6,3,2,3,5000.00,15000.00),(7,4,3,1,10000.00,10000.00),(8,5,6,1,8000.00,8000.00),(9,5,2,1,5000.00,5000.00),(10,5,3,1,10000.00,10000.00),(11,6,3,1,10000.00,10000.00),(12,6,4,1,25000.00,25000.00),(13,6,5,1,12000.00,12000.00),(14,7,6,1,8000.00,8000.00),(15,7,2,1,5000.00,5000.00),(16,8,7,1,7000.00,7000.00),(17,8,5,1,12000.00,12000.00),(18,8,4,1,25000.00,25000.00),(19,9,5,1,12000.00,12000.00),(20,9,2,1,5000.00,5000.00),(21,10,6,1,8000.00,8000.00),(22,10,2,1,5000.00,5000.00),(23,11,6,1,8000.00,8000.00),(24,11,2,1,5000.00,5000.00),(27,13,6,1,8000.00,8000.00),(28,13,7,1,7000.00,7000.00),(29,14,2,1,5000.00,5000.00),(30,14,6,1,8000.00,8000.00),(31,15,6,1,8000.00,8000.00),(32,15,7,1,7000.00,7000.00),(33,16,6,1,8000.00,8000.00),(34,16,2,1,5000.00,5000.00),(35,17,3,1,10000.00,10000.00),(36,17,2,1,5000.00,5000.00),(37,18,6,1,8000.00,8000.00),(38,18,7,1,7000.00,7000.00),(39,19,6,1,8000.00,8000.00),(40,19,2,1,5000.00,5000.00),(41,20,6,1,8000.00,8000.00),(42,21,2,1,5000.00,5000.00),(43,21,6,1,8000.00,8000.00),(45,23,2,1,5000.00,5000.00),(46,24,6,1,8000.00,8000.00),(47,24,2,1,5000.00,5000.00),(48,25,7,1,7000.00,7000.00),(49,25,6,1,8000.00,8000.00),(50,26,2,2,5000.00,10000.00),(51,26,6,1,8000.00,8000.00),(52,27,2,1,5000.00,5000.00),(53,27,6,1,8000.00,8000.00),(58,30,2,1,5000.00,5000.00),(59,30,6,1,8000.00,8000.00),(60,31,2,1,5000.00,5000.00),(61,31,3,1,15000.00,15000.00),(62,31,6,1,8000.00,8000.00),(63,31,5,1,12000.00,12000.00),(64,31,4,1,25000.00,25000.00),(65,31,8,1,12000.00,12000.00),(66,32,4,1,25000.00,25000.00),(67,32,2,1,5000.00,5000.00),(68,33,6,1,8000.00,8000.00),(69,33,2,1,5000.00,5000.00),(70,33,3,1,15000.00,15000.00),(71,34,6,1,8000.00,8000.00),(72,34,2,1,5000.00,5000.00),(73,35,2,1,5000.00,5000.00),(74,35,6,1,8000.00,8000.00),(75,36,2,1,5000.00,5000.00),(76,36,6,1,8000.00,8000.00),(77,37,6,1,8000.00,8000.00),(78,37,3,1,15000.00,15000.00),(79,37,4,1,25000.00,25000.00),(80,38,6,1,8000.00,8000.00),(81,38,2,1,5000.00,5000.00),(82,39,6,1,8000.00,8000.00),(83,40,2,1,5000.00,5000.00),(84,40,6,1,8000.00,8000.00),(85,41,2,1,5000.00,5000.00),(86,41,6,1,8000.00,8000.00),(87,42,6,1,8000.00,8000.00),(88,42,5,1,12000.00,12000.00),(89,43,2,1,5000.00,5000.00),(90,43,4,1,25000.00,25000.00),(91,44,2,1,5000.00,5000.00),(92,44,6,1,8000.00,8000.00),(93,45,2,1,5000.00,5000.00),(94,46,6,1,8000.00,8000.00),(95,47,6,1,8000.00,8000.00),(96,47,5,1,12000.00,12000.00),(97,48,6,1,8000.00,8000.00),(98,49,2,1,5000.00,5000.00),(99,50,2,1,5000.00,5000.00),(100,51,6,3,8000.00,24000.00),(101,51,2,2,5000.00,10000.00),(102,51,4,2,25000.00,50000.00),(103,52,6,1,8000.00,8000.00),(104,52,5,1,12000.00,12000.00),(105,53,2,1,5000.00,5000.00),(106,53,4,1,25000.00,25000.00),(107,53,1,1,15000.00,15000.00),(108,53,7,1,7000.00,7000.00),(109,53,5,1,12000.00,12000.00),(110,53,3,1,15000.00,15000.00),(111,54,6,1,8000.00,8000.00),(112,54,5,1,12000.00,12000.00),(113,54,1,1,15000.00,15000.00),(114,54,7,1,7000.00,7000.00),(115,54,3,1,15000.00,15000.00),(116,54,2,1,5000.00,5000.00),(117,54,4,2,25000.00,50000.00),(118,55,6,1,8000.00,8000.00),(119,55,5,1,12000.00,12000.00),(120,56,3,1,15000.00,15000.00),(121,56,4,1,25000.00,25000.00),(122,57,6,1,8000.00,8000.00),(123,57,2,1,5000.00,5000.00),(124,58,6,1,8000.00,8000.00),(125,58,5,1,12000.00,12000.00),(126,59,6,1,8000.00,8000.00),(127,59,5,1,12000.00,12000.00),(128,60,2,1,5000.00,5000.00),(129,60,6,1,8000.00,8000.00),(130,61,3,1,15000.00,15000.00),(131,61,2,1,5000.00,5000.00),(132,62,6,1,8000.00,8000.00),(133,62,2,1,5000.00,5000.00),(134,63,6,1,8000.00,8000.00),(135,63,2,1,5000.00,5000.00),(136,64,6,1,8000.00,8000.00),(137,64,5,1,12000.00,12000.00),(138,64,4,1,25000.00,25000.00),(139,65,6,1,8000.00,8000.00),(140,65,5,1,12000.00,12000.00),(141,66,2,1,5000.00,5000.00),(142,66,6,1,8000.00,8000.00),(143,67,6,1,8000.00,8000.00),(144,67,5,1,12000.00,12000.00),(145,68,6,1,8000.00,8000.00),(146,69,6,1,8000.00,8000.00),(147,69,2,1,5000.00,5000.00),(148,70,2,1,5000.00,5000.00),(149,70,6,1,8000.00,8000.00),(150,71,3,1,15000.00,15000.00),(151,71,1,1,15000.00,15000.00),(152,72,6,1,8000.00,8000.00),(153,72,5,1,12000.00,12000.00),(154,73,1,1,15000.00,15000.00),(155,73,7,1,7000.00,7000.00),(156,74,3,1,15000.00,15000.00),(157,74,1,1,15000.00,15000.00),(158,75,6,1,8000.00,8000.00),(159,75,5,1,12000.00,12000.00),(160,76,6,1,8000.00,8000.00),(161,76,5,1,12000.00,12000.00),(162,77,6,1,8000.00,8000.00),(163,77,5,1,12000.00,12000.00),(164,78,5,1,12000.00,12000.00),(165,79,2,1,5000.00,5000.00),(166,79,6,1,8000.00,8000.00),(167,80,5,1,12000.00,12000.00),(168,80,6,1,8000.00,8000.00),(169,81,5,1,12000.00,12000.00),(170,81,6,1,8000.00,8000.00),(171,82,5,1,12000.00,12000.00),(172,83,5,1,12000.00,12000.00),(173,84,5,1,12000.00,12000.00),(174,84,6,1,8000.00,8000.00),(175,85,1,1,15000.00,15000.00),(176,85,5,1,12000.00,12000.00),(177,86,5,1,12000.00,12000.00),(178,86,6,1,8000.00,8000.00),(179,87,6,1,8000.00,8000.00),(180,87,5,1,12000.00,12000.00),(181,88,6,1,8000.00,8000.00),(182,89,2,1,5000.00,5000.00),(183,90,6,1,8000.00,8000.00),(184,91,6,1,8000.00,8000.00),(185,92,5,1,12000.00,12000.00),(186,92,6,1,8000.00,8000.00),(187,93,5,1,12000.00,12000.00),(188,93,6,1,8000.00,8000.00),(189,93,3,1,15000.00,15000.00),(190,93,2,1,5000.00,5000.00),(191,94,1,1,15000.00,15000.00),(192,94,7,1,7000.00,7000.00),(193,95,6,1,8000.00,8000.00),(194,96,6,1,8000.00,8000.00),(195,97,6,2,8000.00,16000.00),(196,97,5,1,12000.00,12000.00),(197,98,6,2,8000.00,16000.00),(198,98,2,1,5000.00,5000.00),(199,99,6,1,8000.00,8000.00),(200,99,5,1,12000.00,12000.00),(201,100,5,1,12000.00,12000.00),(202,101,6,1,8000.00,8000.00),(203,101,5,1,12000.00,12000.00),(204,102,6,1,8000.00,8000.00),(205,102,5,1,12000.00,12000.00),(206,103,6,1,8000.00,8000.00),(207,103,5,1,12000.00,12000.00),(208,104,6,1,8000.00,8000.00),(209,104,5,1,12000.00,12000.00),(210,105,6,1,8000.00,8000.00),(211,105,5,2,12000.00,24000.00),(212,106,2,1,5000.00,5000.00),(213,106,6,1,8000.00,8000.00),(214,107,3,1,15000.00,15000.00),(215,108,6,1,8000.00,8000.00),(216,108,2,1,5000.00,5000.00),(217,108,4,1,25000.00,25000.00),(218,109,8,1,12000.00,12000.00),(219,110,8,1,12000.00,12000.00),(220,111,8,1,12000.00,12000.00),(221,112,4,1,25000.00,25000.00),(222,113,4,1,25000.00,25000.00),(223,114,4,1,25000.00,25000.00),(224,115,4,1,25000.00,25000.00),(225,115,8,1,12000.00,12000.00),(226,116,4,1,25000.00,25000.00),(227,117,8,1,12000.00,12000.00),(228,118,1,1,15000.00,15000.00),(229,119,3,1,15000.00,15000.00),(230,120,1,1,15000.00,15000.00),(231,121,6,1,8000.00,8000.00),(232,122,8,1,12000.00,12000.00),(233,123,6,1,8000.00,8000.00),(234,124,8,1,12000.00,12000.00),(235,125,8,1,12000.00,12000.00),(236,126,8,1,12000.00,12000.00),(237,127,8,1,12000.00,12000.00),(238,128,6,2,8000.00,16000.00),(239,129,6,1,8000.00,8000.00),(240,130,8,1,12000.00,12000.00),(241,131,4,1,25000.00,25000.00);
/*!40000 ALTER TABLE `transaction_items` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `transactions`
--

DROP TABLE IF EXISTS `transactions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `transactions` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `invoice_code` varchar(20) NOT NULL,
  `user_id` int(11) NOT NULL,
  `payment_id` int(11) DEFAULT NULL,
  `total_amount` decimal(12,2) NOT NULL,
  `paid_amount` decimal(12,2) DEFAULT NULL,
  `change_amount` decimal(12,2) DEFAULT NULL,
  `status` enum('draft','completed') DEFAULT 'draft',
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  `completed_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `invoice_code` (`invoice_code`),
  KEY `user_id` (`user_id`),
  KEY `payment_id` (`payment_id`),
  CONSTRAINT `transactions_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`),
  CONSTRAINT `transactions_ibfk_2` FOREIGN KEY (`payment_id`) REFERENCES `payments` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=132 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `transactions`
--

LOCK TABLES `transactions` WRITE;
/*!40000 ALTER TABLE `transactions` DISABLE KEYS */;
INSERT INTO `transactions` VALUES (2,'INV20250703-0001',2,1,24000.00,30000.00,6000.00,'completed','2025-07-03 00:18:56',NULL),(3,'INV20250703-0002',2,1,23000.00,50000.00,27000.00,'completed','2025-07-03 00:52:21',NULL),(4,'INV20250703-0003',2,1,10000.00,20000.00,10000.00,'completed','2025-07-03 01:27:48',NULL),(5,'INV20250703-0004',2,2,23000.00,50000.00,27000.00,'completed','2025-07-03 01:35:37',NULL),(6,'INV20250703-0005',2,2,47000.00,50000.00,3000.00,'completed','2025-07-03 02:40:15',NULL),(7,'INV20250703-0006',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 07:09:14',NULL),(8,'INV20250703-0007',2,1,44000.00,50000.00,6000.00,'completed','2025-07-03 07:18:33',NULL),(9,'INV20250703-0008',2,1,17000.00,20000.00,3000.00,'completed','2025-07-03 07:19:14',NULL),(10,'INV20250703-0009',2,3,13000.00,20000.00,7000.00,'completed','2025-07-03 07:21:04',NULL),(11,'INV20250703-0010',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 07:25:55',NULL),(13,'INV20250703-0012',2,2,15000.00,20000.00,5000.00,'completed','2025-07-03 07:30:10',NULL),(14,'INV20250703-0013',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 08:04:32',NULL),(15,'INV20250703-0014',2,1,15000.00,20000.00,5000.00,'completed','2025-07-03 08:09:05',NULL),(16,'INV20250703-0015',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 08:26:16',NULL),(17,'INV20250703-0016',2,2,15000.00,20000.00,5000.00,'completed','2025-07-03 08:27:03',NULL),(18,'INV20250703-0017',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 08:27:06',NULL),(19,'INV20250704-0001',2,1,13000.00,20000.00,7000.00,'completed','2025-07-03 20:56:41',NULL),(20,'INV20250704-0002',2,1,8000.00,20000.00,12000.00,'completed','2025-07-04 07:24:48',NULL),(21,'INV20250704-0003',2,1,15000.00,17000.00,2000.00,'completed','2025-07-04 08:18:32',NULL),(23,'INV20250706-0001',2,3,8000.00,10000.00,2000.00,'completed','2025-07-06 01:05:04',NULL),(24,'INV20250706-0002',2,1,13000.00,20000.00,7000.00,'completed','2025-07-06 06:15:02',NULL),(25,'INV20250706-0003',2,2,15000.00,20000.00,5000.00,'completed','2025-07-06 06:20:16',NULL),(26,'INV20250706-0004',2,2,18000.00,20000.00,2000.00,'completed','2025-07-06 06:28:48',NULL),(27,'INV20250706-0005',2,1,13000.00,20000.00,7000.00,'completed','2025-07-06 08:33:41',NULL),(30,'INV20250707-0001',2,3,13000.00,20000.00,7000.00,'completed','2025-07-07 00:20:03',NULL),(31,'INV20250707-0002',2,2,77000.00,80000.00,3000.00,'completed','2025-07-07 08:12:59',NULL),(32,'INV20250707-0003',2,1,30000.00,50000.00,20000.00,'completed','2025-07-07 08:21:03',NULL),(33,'INV20250707-0004',2,1,28000.00,50000.00,22000.00,'completed','2025-07-07 08:31:54',NULL),(34,'INV20250707-0005',2,1,13000.00,20000.00,7000.00,'completed','2025-07-07 08:35:19',NULL),(35,'INV20250707-0006',2,1,13000.00,50000.00,37000.00,'completed','2025-07-07 08:36:09',NULL),(36,'INV20250707-0007',2,1,13000.00,20000.00,7000.00,'completed','2025-07-07 08:42:10',NULL),(37,'INV20250707-0008',2,1,48000.00,50000.00,2000.00,'completed','2025-07-07 08:46:57',NULL),(38,'INV20250707-0009',2,3,13000.00,20000.00,7000.00,'completed','2025-07-07 08:49:25',NULL),(39,'INV20250707-0010',2,1,8000.00,20000.00,12000.00,'completed','2025-07-07 08:49:55',NULL),(40,'INV20250707-0011',2,1,13000.00,20000.00,7000.00,'completed','2025-07-07 08:51:38',NULL),(41,'INV20250707-0012',2,2,13000.00,20000.00,7000.00,'completed','2025-07-07 08:52:20',NULL),(42,'INV20250707-0013',2,1,20000.00,20000.00,0.00,'completed','2025-07-07 08:53:33',NULL),(43,'INV20250707-0014',2,2,30000.00,50000.00,20000.00,'completed','2025-07-07 08:54:30',NULL),(44,'INV20250707-0015',2,1,13000.00,20000.00,7000.00,'completed','2025-07-07 08:55:28',NULL),(45,'INV20250707-0016',2,3,5000.00,10000.00,5000.00,'completed','2025-07-07 08:57:32',NULL),(46,'INV20250707-0017',2,1,8000.00,10000.00,2000.00,'completed','2025-07-07 08:58:49',NULL),(47,'INV20250707-0018',2,1,20000.00,50000.00,30000.00,'completed','2025-07-07 09:01:43',NULL),(48,'INV20250707-0019',2,1,8000.00,20000.00,12000.00,'completed','2025-07-07 09:02:49',NULL),(49,'INV20250707-0020',2,1,5000.00,20000.00,15000.00,'completed','2025-07-07 09:03:35',NULL),(50,'INV20250707-0021',2,1,5000.00,20000.00,15000.00,'completed','2025-07-07 09:03:56',NULL),(51,'INV20250707-0022',2,1,84000.00,100000.00,16000.00,'completed','2025-07-07 09:04:35',NULL),(52,'INV20250707-0023',2,2,20000.00,50000.00,30000.00,'completed','2025-07-07 09:10:40',NULL),(53,'INV20250707-0024',2,1,79000.00,100000.00,21000.00,'completed','2025-07-07 09:11:10',NULL),(54,'INV20250707-0025',2,1,112000.00,150000.00,38000.00,'completed','2025-07-07 09:12:05',NULL),(55,'INV20250709-0001',2,1,20000.00,25000.00,5000.00,'completed','2025-07-08 19:22:08',NULL),(56,'INV20250709-0002',2,1,40000.00,50000.00,10000.00,'completed','2025-07-09 00:28:45',NULL),(57,'INV20250709-0003',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 00:34:35',NULL),(58,'INV20250709-0004',2,2,20000.00,50000.00,30000.00,'completed','2025-07-09 06:45:52',NULL),(59,'INV20250709-0005',2,2,20000.00,28000.00,8000.00,'completed','2025-07-09 06:53:34',NULL),(60,'INV20250709-0006',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 07:03:12',NULL),(61,'INV20250709-0007',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 09:34:05',NULL),(62,'INV20250709-0008',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 09:49:08',NULL),(63,'INV20250709-0009',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 09:54:07',NULL),(64,'INV20250709-0010',2,2,45000.00,50000.00,5000.00,'completed','2025-07-09 09:58:06',NULL),(65,'INV20250709-0011',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 10:04:15',NULL),(66,'INV20250709-0012',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 10:09:58',NULL),(67,'INV20250709-0013',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 10:10:52',NULL),(68,'INV20250709-0014',2,1,8000.00,10000.00,2000.00,'completed','2025-07-09 10:11:20',NULL),(69,'INV20250709-0015',2,3,13000.00,20000.00,7000.00,'completed','2025-07-09 10:13:13',NULL),(70,'INV20250709-0016',2,3,13000.00,20000.00,7000.00,'completed','2025-07-09 10:19:47',NULL),(71,'INV20250709-0017',2,1,30000.00,50000.00,20000.00,'completed','2025-07-09 10:23:52',NULL),(72,'INV20250709-0018',2,1,20000.00,20000.00,0.00,'completed','2025-07-09 10:29:52',NULL),(73,'INV20250709-0019',2,2,22000.00,50000.00,28000.00,'completed','2025-07-09 10:33:53',NULL),(74,'INV20250709-0020',2,2,30000.00,50000.00,20000.00,'completed','2025-07-09 10:37:40',NULL),(75,'INV20250709-0021',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 10:44:08',NULL),(76,'INV20250709-0022',2,1,20000.00,25000.00,5000.00,'completed','2025-07-09 10:46:14',NULL),(77,'INV20250709-0023',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 10:51:57',NULL),(78,'INV20250710-0001',2,2,12000.00,20000.00,8000.00,'completed','2025-07-09 18:55:40',NULL),(79,'INV20250710-0002',2,1,13000.00,20000.00,7000.00,'completed','2025-07-09 19:12:02',NULL),(80,'INV20250710-0003',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 19:20:14',NULL),(81,'INV20250710-0004',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 19:24:37',NULL),(82,'INV20250710-0005',2,1,12000.00,20000.00,8000.00,'completed','2025-07-09 19:31:01',NULL),(83,'INV20250710-0006',2,1,12000.00,20000.00,8000.00,'completed','2025-07-09 19:31:20',NULL),(84,'INV20250710-0007',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 19:34:57',NULL),(85,'INV20250710-0008',2,1,27000.00,30000.00,3000.00,'completed','2025-07-09 19:49:24',NULL),(86,'INV20250710-0009',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 19:54:50',NULL),(87,'INV20250710-0010',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 19:58:29',NULL),(88,'INV20250710-0011',2,1,8000.00,20000.00,12000.00,'completed','2025-07-09 19:59:25',NULL),(89,'INV20250710-0012',2,1,5000.00,20000.00,15000.00,'completed','2025-07-09 20:11:15',NULL),(90,'INV20250710-0013',2,1,8000.00,20000.00,12000.00,'completed','2025-07-09 20:12:48',NULL),(91,'INV20250710-0014',2,1,8000.00,20000.00,12000.00,'completed','2025-07-09 21:20:08',NULL),(92,'INV20250710-0015',2,1,20000.00,50000.00,30000.00,'completed','2025-07-09 21:24:30',NULL),(93,'INV20250710-0016',2,1,40000.00,50000.00,10000.00,'completed','2025-07-09 21:26:57',NULL),(94,'INV20250710-0017',2,1,22000.00,30000.00,8000.00,'completed','2025-07-09 21:30:42',NULL),(95,'INV20250710-0018',2,1,8000.00,10000.00,2000.00,'completed','2025-07-09 21:31:27',NULL),(96,'INV20250710-0019',2,1,8000.00,10000.00,2000.00,'completed','2025-07-09 21:43:34',NULL),(97,'INV20250710-0020',2,1,28000.00,50000.00,22000.00,'completed','2025-07-09 21:44:39',NULL),(98,'INV20250710-0021',2,1,21000.00,50000.00,29000.00,'completed','2025-07-09 21:46:54',NULL),(99,'INV20250710-0022',2,1,20000.00,50000.00,30000.00,'completed','2025-07-10 00:21:47',NULL),(100,'INV20250710-0023',2,2,12000.00,20000.00,8000.00,'completed','2025-07-10 00:23:11',NULL),(101,'INV20250710-0024',2,1,20000.00,50000.00,30000.00,'completed','2025-07-10 00:35:48',NULL),(102,'INV20250710-0025',2,1,20000.00,25000.00,5000.00,'completed','2025-07-10 00:44:28','2025-07-10 07:46:20'),(103,'INV20250710-0026',2,1,20000.00,50000.00,30000.00,'completed','2025-07-10 00:46:43','2025-07-10 07:47:01'),(104,'INV20250710-0027',2,1,20000.00,50000.00,30000.00,'completed','2025-07-10 00:47:16',NULL),(105,'INV20250710-0028',2,2,32000.00,50000.00,30000.00,'completed','2025-07-10 00:47:47','2025-07-10 07:48:41'),(106,'INV20250710-0029',2,1,13000.00,20000.00,7000.00,'completed','2025-07-10 05:55:11','2025-07-10 12:55:22'),(107,'INV20250710-0030',2,1,15000.00,20000.00,5000.00,'completed','2025-07-10 06:08:50',NULL),(108,'INV20250710-0031',2,1,38000.00,50000.00,12000.00,'completed','2025-07-10 08:56:41',NULL),(109,'INV20250710-0032',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 09:06:45',NULL),(110,'INV20250710-0033',2,2,12000.00,12000.00,0.00,'completed','2025-07-10 09:08:12',NULL),(111,'INV20250710-0034',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 09:11:47',NULL),(112,'INV20250710-0035',2,2,25000.00,25000.00,0.00,'completed','2025-07-10 09:16:13',NULL),(113,'INV20250710-0036',2,2,25000.00,25000.00,0.00,'completed','2025-07-10 09:22:13',NULL),(114,'INV20250710-0037',2,3,25000.00,25000.00,0.00,'completed','2025-07-10 09:22:59',NULL),(115,'INV20250710-0038',2,2,37000.00,37000.00,0.00,'completed','2025-07-10 09:28:25',NULL),(116,'INV20250710-0039',2,2,25000.00,25000.00,0.00,'completed','2025-07-10 09:34:40',NULL),(117,'INV20250710-0040',2,3,12000.00,12000.00,0.00,'completed','2025-07-10 09:41:03',NULL),(118,'INV20250710-0041',2,1,15000.00,20000.00,5000.00,'completed','2025-07-10 09:45:25',NULL),(119,'INV20250710-0042',2,2,15000.00,15000.00,0.00,'completed','2025-07-10 09:51:35','2025-07-10 16:51:35'),(120,'INV20250710-0043',2,1,15000.00,15000.00,0.00,'completed','2025-07-10 09:52:19','2025-07-10 16:52:19'),(121,'INV20250710-0044',2,1,8000.00,10000.00,2000.00,'completed','2025-07-10 09:56:17','2025-07-10 16:56:17'),(122,'INV20250710-0045',2,2,12000.00,12000.00,0.00,'completed','2025-07-10 10:20:45','2025-07-10 17:20:46'),(123,'INV20250710-0046',2,2,8000.00,8000.00,0.00,'completed','2025-07-10 10:24:30','2025-07-10 17:24:30'),(124,'INV20250711-0001',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 19:53:27','2025-07-11 02:53:27'),(125,'INV20250711-0002',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 19:54:27','2025-07-11 02:54:28'),(126,'INV20250711-0003',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 20:00:48','2025-07-11 03:00:48'),(127,'INV20250711-0004',2,1,12000.00,20000.00,8000.00,'completed','2025-07-10 20:32:44','2025-07-11 03:32:44'),(128,'INV20250711-0005',2,1,16000.00,20000.00,4000.00,'completed','2025-07-11 06:02:47','2025-07-11 13:02:47'),(129,'INV20250711-0006',2,1,8000.00,10000.00,2000.00,'completed','2025-07-11 06:35:19','2025-07-11 13:35:19'),(130,'INV20250718-0001',2,1,12000.00,20000.00,8000.00,'completed','2025-07-17 21:03:39','2025-07-18 04:03:39'),(131,'INV20250720-0001',2,4,25000.00,25000.00,0.00,'completed','2025-07-20 05:37:03','2025-07-20 12:37:03');
/*!40000 ALTER TABLE `transactions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(100) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` char(32) NOT NULL,
  `role_id` int(11) NOT NULL,
  `is_active` tinyint(1) DEFAULT 1,
  `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
  PRIMARY KEY (`id`),
  UNIQUE KEY `username` (`username`),
  KEY `role_id` (`role_id`),
  CONSTRAINT `users_ibfk_1` FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES (1,'Administrator Ulung','admin','0192023a7bbd73250516f069df18b500',1,1,'2025-06-29 10:57:35'),(2,'Kasir Satu','kasir','de28f8f7998f23ab4194b51a6029416f',2,1,'2025-06-29 10:57:40');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-07-20 17:56:54
